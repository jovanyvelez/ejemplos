<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“ Formulario de Login - Proyecto Educativo</title>
    <!-- ğŸ¨ Enlazamos nuestro archivo CSS para que el formulario se vea bonito -->
    <link rel="stylesheet" href="/static/form_styles.css">
</head>
<body>
    <!-- 
    ğŸ“ FORMULARIO HTML - CONCEPTOS IMPORTANTES:
    
    1. action="/login/" - A dÃ³nde se envÃ­an los datos cuando el usuario hace clic en "Login"
    2. method="post" - CÃ³mo se envÃ­an los datos (POST es seguro para contraseÃ±as)
    3. name="email" - El nombre que usarÃ¡ FastAPI para identificar este campo
    4. required - El navegador no dejarÃ¡ enviar el formulario si este campo estÃ¡ vacÃ­o
    -->
    
    <form action="/login/" method="post">
        
        <!-- ğŸ¯ TÃTULO DEL FORMULARIO -->
        <h1>ğŸ” Iniciar SesiÃ³n</h1>
        <p class="subtitle">Introduce tus credenciales para acceder</p>
        
        <!-- ========== CAMPO EMAIL ========== -->
        
        <!-- ğŸ·ï¸ ETIQUETA: Describe quÃ© debe escribir el usuario -->
        <label for="email">ğŸ“§ Correo ElectrÃ³nico:</label>
        
        <!-- ğŸ“ INPUT: Donde el usuario escribe su email -->
        <!-- 
        ATRIBUTOS IMPORTANTES:
        - type="email" - El navegador valida que parezca un email
        - id="email" - Conecta con el label (cuando haces clic en la etiqueta, se enfoca el input)
        - name="email" - CRUCIAL: Este nombre debe coincidir con el parÃ¡metro en main.py
        - placeholder - Texto de ayuda que se ve cuando el campo estÃ¡ vacÃ­o
        - required - No se puede enviar el formulario sin llenar este campo
        -->
        <input 
            type="email" 
            id="email" 
            name="email" 
            placeholder="ejemplo: estudiante@colegio.edu" 
            required
            autocomplete="email"
        >
        
        <!-- ğŸš¨ MOSTRAR ERRORES DEL EMAIL -->
        <!--
        Esta es la magia de Jinja2:
        - {{ errors['email'] }} inserta el mensaje de error desde Python
        - Si no hay error en el email, no se muestra nada
        - Si hay error, se muestra el mensaje especÃ­fico (ej: "formato de email invÃ¡lido")
        -->
        {% if errors.get('email') %}
            <div class="error">
                âš ï¸ {{ errors['email'] }}
            </div>
        {% endif %}
        
        <!-- ========== CAMPO CONTRASEÃ‘A ========== -->
        
        <!-- ğŸ·ï¸ ETIQUETA para la contraseÃ±a -->
        <label for="password">ğŸ” ContraseÃ±a:</label>
        
        <!-- ğŸ”’ INPUT: Donde el usuario escribe su contraseÃ±a -->
        <!--
        ATRIBUTOS IMPORTANTES:
        - type="password" - Oculta lo que escribe el usuario (puntos en lugar de letras)
        - name="password" - CRUCIAL: Debe coincidir con el parÃ¡metro en main.py
        - minlength="8" - El navegador sugiere que la contraseÃ±a tenga al menos 8 caracteres
        -->
        <input 
            type="password" 
            id="password" 
            name="password" 
            placeholder="MÃ­nimo 8 caracteres" 
            required
            minlength="8"
            autocomplete="current-password"
        >
        
        <!-- ğŸš¨ MOSTRAR ERRORES DE LA CONTRASEÃ‘A -->
        <!--
        Igual que con el email, aquÃ­ mostramos errores especÃ­ficos de la contraseÃ±a:
        - "La contraseÃ±a debe tener al menos 8 caracteres" (desde nuestro validador personalizado)
        - "Este campo es obligatorio" (si no escribieron nada)
        -->
        {% if errors.get('password') %}
            <div class="error">
                âš ï¸ {{ errors['password'] }}
            </div>
        {% endif %}
        
        <!-- ========== BOTÃ“N DE ENVÃO ========== -->
        
        <!-- ğŸš€ BOTÃ“N: EnvÃ­a el formulario al servidor -->
        <!--
        type="submit" - Cuando haces clic, envÃ­a todos los datos del formulario
        a la URL especificada en action="/login/" usando el mÃ©todo POST
        -->
        <button type="submit">ğŸ¯ Iniciar SesiÃ³n</button>
        
    </form>
    
    <!-- ğŸ“š INFORMACIÃ“N EDUCATIVA para estudiantes -->
    <div class="info-box">
        <h3>ğŸ“ Â¿CÃ³mo funciona este formulario?</h3>
        <ol>
            <li><strong>HTML:</strong> Define la estructura del formulario</li>
            <li><strong>CSS:</strong> Hace que se vea bonito</li>
            <li><strong>FastAPI:</strong> Recibe los datos en el servidor</li>
            <li><strong>Pydantic:</strong> Valida que los datos sean correctos</li>
            <li><strong>Jinja2:</strong> Muestra errores dinÃ¡micamente</li>
        </ol>
        
        <h4>ğŸ” Prueba estos casos para ver la validaciÃ³n:</h4>
        <ul>
            <li>Email sin @ (ej: "usuario.com")</li>
            <li>ContraseÃ±a muy corta (ej: "123")</li>
            <li>Dejar campos vacÃ­os</li>
            <li>Email vÃ¡lido y contraseÃ±a de 8+ caracteres âœ…</li>
        </ul>
    </div>
    
</body>
</html>